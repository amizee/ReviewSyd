{%extends "hf.html"%}{%block title%}location{%endblock%}
{%block content%}
    <div class="px-5">
        <div class="font-weight-bold h1 pb-3 text-center">{{location.name}}</div>
        <div class="row text-center pb-5">
            <div class="col-3 mx-auto">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Cleanliness Rating</h5>
                        <p class="card-text">{{location.avgClean}}</p>
                    </div>
                </div>
            </div>
            <div class="col-3 mx-auto">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Amenities Rating</h5>
                        <p class="card-text">{{location.avgAmen}}</p>
                    </div>
                </div>
            </div>
            <div class="col-3 mx-auto">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Noise Level Rating</h5>
                        <p class="card-text">{{location.avgNoise}}</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row text-center pb-5" id="reviews-container">
            {% for review in location.reviews.all|slice:":3" %}
                <div class="col-md-12">
                    <div class="card">
                        <div class="card-body">
                            <div class="card-text">
                                <!-- Main row for review details -->
                                <div class="row no-gutters">
                                    <div class="col-2">
                                        <div class="card h-100">
                                            <p class="mr-3">Profile: {{review.reviewerSID}}</p>
                                        </div>
                                    </div>
                                    <div class="col-5">
                                        <div class="card h-100">
                                            <p class="mr-3">{{review.writtenReview}}</p>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div class="card h-100">
                                            <div class = "card">
                                                <p class="mr-3">Cleanliness Rating: {{ review.cleanlinessRating }}</p>
                                            </div>
                                            <div class = "card">
                                                <p class="mr-3">Amenities Rating: {{ review.amenitiesRating }}</p>
                                            </div>
                                            <div class = "card">
                                                <p>Noisiness Rating: {{ review.noisinessRating }}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-2">
                                        <div class="card h-100">
                                            <p class="mr-3">Likes: <span id="likes-count-{{ review.pk }}">{{ review.likes }}</span></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class="row">
            <div class="col-6">
                {% if location.location != "" %}
                <div class="row">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pin-map-fill col-1" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M3.1 11.2a.5.5 0 0 1 .4-.2H6a.5.5 0 0 1 0 1H3.75L1.5 15h13l-2.25-3H10a.5.5 0 0 1 0-1h2.5a.5.5 0 0 1 .4.2l3 4a.5.5 0 0 1-.4.8H.5a.5.5 0 0 1-.4-.8l3-4z"/>
                        <path fill-rule="evenodd" d="M4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999z"/>
                    </svg>
                    <div class="col-11">{{location.location}}</div>
                </div>
                {%endif%}
                {% if location.phone_number != "" %}
                <div class="row">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-telephone-fill col-1" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"/>
                    </svg>
                    <div class="col-11">{{location.phone_number}}</div>
                </div>
                {%endif%}
                {% if location.hours != "" %}
                <div class="row">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock-fill col-1" viewBox="0 0 16 16">
                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
                    </svg>
                    <div class="col-11">{{location.hours}}</div>
                </div>
                {%endif%}
                {% if location.website != "" %}
                    <div class="row">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-browser-chrome class=1" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M16 8a8.001 8.001 0 0 1-7.022 7.94l1.902-7.098a2.995 2.995 0 0 0 .05-1.492A2.977 2.977 0 0 0 10.237 6h5.511A8 8 0 0 1 16 8ZM0 8a8 8 0 0 0 7.927 8l1.426-5.321a2.978 2.978 0 0 1-.723.255 2.979 2.979 0 0 1-1.743-.147 2.986 2.986 0 0 1-1.043-.7L.633 4.876A7.975 7.975 0 0 0 0 8Zm5.004-.167L1.108 3.936A8.003 8.003 0 0 1 15.418 5H8.066a2.979 2.979 0 0 0-1.252.243 2.987 2.987 0 0 0-1.81 2.59ZM8 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"/>
                        </svg>
                        <div class="col-11">{{location.website}}</div>
                    </div>
                {%endif %}
            </div> 
            <div class="col-6">
                pic/features
            </div>
        </div>
        <div class="d-flex justify-content-center">Rating</div>
        <div class="row">
            <div class="col-6 h4">
                nearby POI
            </div>
            <div class="col-6 h4">
                nearby spaces
            </div>
        </div>
    </div>
{%endblock%}

